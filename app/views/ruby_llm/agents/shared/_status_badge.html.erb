<%
  # Status badge pill
  # Usage: render "ruby_llm/agents/shared/status_badge", status: execution.status

  badge_class = case status.to_s
    when "running" then "badge-running"
    when "success" then "badge-success"
    when "error" then "badge-error"
    when "timeout" then "badge-timeout"
    else "badge-timeout"
  end
%>
<span class="inline-flex items-center gap-1 font-mono">
  <span class="badge <%= badge_class %>" style="font-size: 10px; padding: 1px 6px;"><%= status.to_s %></span>
  <% if local_assigns[:attempts_count] && attempts_count.to_i > 1 %>
    <span class="text-xs text-gray-400 dark:text-gray-600" title="<%= attempts_count %> attempts">&times;<%= attempts_count %></span>
  <% end %>
</span>
