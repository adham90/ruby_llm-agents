<% if insights.any? %>
  <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3">
    <% insights.each do |insight| %>
      <%
        colors = case insight[:color]
        when "green" then { bg: "bg-green-100 dark:bg-green-900", icon: "text-green-600 dark:text-green-400", text: "text-green-600 dark:text-green-400" }
        when "yellow" then { bg: "bg-amber-100 dark:bg-amber-900", icon: "text-amber-600 dark:text-amber-400", text: "text-amber-600 dark:text-amber-400" }
        when "red" then { bg: "bg-red-100 dark:bg-red-900", icon: "text-red-600 dark:text-red-400", text: "text-red-600 dark:text-red-400" }
        when "blue" then { bg: "bg-blue-100 dark:bg-blue-900", icon: "text-blue-600 dark:text-blue-400", text: "text-blue-600 dark:text-blue-400" }
        when "purple" then { bg: "bg-purple-100 dark:bg-purple-900", icon: "text-purple-600 dark:text-purple-400", text: "text-purple-600 dark:text-purple-400" }
        else { bg: "bg-gray-100 dark:bg-gray-700", icon: "text-gray-600 dark:text-gray-400", text: "text-gray-900 dark:text-gray-100" }
        end

        icon_svg = case insight[:icon]
        when "currency" then '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />'
        when "clock", "timer" then '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />'
        when "alert" then '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />'
        when "check" then '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />'
        when "lightning" then '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />'
        else '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />'
        end
      %>

      <div class="flex items-center bg-white dark:bg-gray-800 rounded-lg px-4 py-3 shadow-sm border border-gray-100 dark:border-gray-700" title="<%= insight[:detail] %>">
        <div class="flex-shrink-0 w-8 h-8 <%= colors[:bg] %> rounded-full flex items-center justify-center mr-3">
          <svg class="w-4 h-4 <%= colors[:icon] %>" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <%= raw icon_svg %>
          </svg>
        </div>
        <div class="min-w-0">
          <p class="text-lg font-bold <%= colors[:text] %> truncate"><%= insight[:value] %></p>
          <p class="text-xs text-gray-500 dark:text-gray-400 truncate"><%= insight[:title] %></p>
        </div>
      </div>
    <% end %>
  </div>
<% end %>
