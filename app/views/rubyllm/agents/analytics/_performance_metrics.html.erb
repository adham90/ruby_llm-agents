<div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700">
  <div class="px-6 py-4 border-b border-gray-100 dark:border-gray-700">
    <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100">Performance Metrics</h3>
    <p class="text-sm text-gray-500 dark:text-gray-400">Key performance indicators</p>
  </div>

  <div class="p-6 space-y-4">
    <!-- Success Rate -->
    <div class="flex items-center justify-between">
      <div class="flex items-center">
        <div class="flex-shrink-0 w-8 h-8 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mr-3">
          <svg class="w-4 h-4 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
          </svg>
        </div>
        <span class="text-sm font-medium text-gray-700 dark:text-gray-300">Success Rate</span>
      </div>
      <div class="flex items-center">
        <div class="w-32 bg-gray-200 dark:bg-gray-700 rounded-full h-2 mr-3">
          <div class="bg-green-500 h-2 rounded-full" style="width: <%= performance[:success_rate] %>%"></div>
        </div>
        <span class="text-sm font-bold text-gray-900 dark:text-gray-100 w-14 text-right"><%= performance[:success_rate] %>%</span>
      </div>
    </div>

    <!-- Error Rate -->
    <div class="flex items-center justify-between">
      <div class="flex items-center">
        <div class="flex-shrink-0 w-8 h-8 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center mr-3">
          <svg class="w-4 h-4 text-red-600 dark:text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </div>
        <span class="text-sm font-medium text-gray-700 dark:text-gray-300">Error Rate</span>
      </div>
      <div class="flex items-center">
        <div class="w-32 bg-gray-200 dark:bg-gray-700 rounded-full h-2 mr-3">
          <div class="bg-red-500 h-2 rounded-full" style="width: <%= [performance[:error_rate], 100].min %>%"></div>
        </div>
        <span class="text-sm font-bold text-gray-900 dark:text-gray-100 w-14 text-right"><%= performance[:error_rate] %>%</span>
      </div>
    </div>

    <!-- Avg Duration -->
    <div class="flex items-center justify-between">
      <div class="flex items-center">
        <div class="flex-shrink-0 w-8 h-8 bg-cyan-100 dark:bg-cyan-900 rounded-full flex items-center justify-center mr-3">
          <svg class="w-4 h-4 text-cyan-600 dark:text-cyan-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
        </div>
        <span class="text-sm font-medium text-gray-700 dark:text-gray-300">Avg Duration</span>
      </div>
      <span class="text-sm font-bold text-gray-900 dark:text-gray-100"><%= number_with_precision(performance[:avg_duration_ms] / 1000.0, precision: 2) %>s</span>
    </div>

    <div class="border-t border-gray-100 dark:border-gray-700 my-4"></div>

    <!-- Cache Hit Rate -->
    <div class="flex items-center justify-between">
      <div class="flex items-center">
        <div class="flex-shrink-0 w-8 h-8 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center mr-3">
          <svg class="w-4 h-4 text-purple-600 dark:text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4" />
          </svg>
        </div>
        <span class="text-sm font-medium text-gray-700 dark:text-gray-300">Cache Hit Rate</span>
      </div>
      <div class="flex items-center">
        <div class="w-32 bg-gray-200 dark:bg-gray-700 rounded-full h-2 mr-3">
          <div class="bg-purple-500 h-2 rounded-full" style="width: <%= performance[:cache_hit_rate] %>%"></div>
        </div>
        <span class="text-sm font-bold text-gray-900 dark:text-gray-100 w-14 text-right"><%= performance[:cache_hit_rate] %>%</span>
      </div>
    </div>

    <!-- Streaming Rate -->
    <div class="flex items-center justify-between">
      <div class="flex items-center">
        <div class="flex-shrink-0 w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mr-3">
          <svg class="w-4 h-4 text-blue-600 dark:text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
          </svg>
        </div>
        <span class="text-sm font-medium text-gray-700 dark:text-gray-300">Streaming Rate</span>
      </div>
      <div class="flex items-center">
        <div class="w-32 bg-gray-200 dark:bg-gray-700 rounded-full h-2 mr-3">
          <div class="bg-blue-500 h-2 rounded-full" style="width: <%= performance[:streaming_rate] %>%"></div>
        </div>
        <span class="text-sm font-bold text-gray-900 dark:text-gray-100 w-14 text-right"><%= performance[:streaming_rate] %>%</span>
      </div>
    </div>

    <!-- Rate Limited -->
    <div class="flex items-center justify-between">
      <div class="flex items-center">
        <div class="flex-shrink-0 w-8 h-8 <%= performance[:rate_limited_rate] > 5 ? 'bg-orange-100 dark:bg-orange-900' : 'bg-gray-100 dark:bg-gray-700' %> rounded-full flex items-center justify-center mr-3">
          <svg class="w-4 h-4 <%= performance[:rate_limited_rate] > 5 ? 'text-orange-600 dark:text-orange-400' : 'text-gray-500 dark:text-gray-400' %>" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
          </svg>
        </div>
        <span class="text-sm font-medium text-gray-700 dark:text-gray-300">Rate Limited</span>
      </div>
      <div class="flex items-center">
        <% if performance[:rate_limited_rate] > 5 %>
          <span class="text-xs text-orange-600 dark:text-orange-400 mr-2">High</span>
        <% end %>
        <span class="text-sm font-bold <%= performance[:rate_limited_rate] > 5 ? 'text-orange-600 dark:text-orange-400' : 'text-gray-900 dark:text-gray-100' %>"><%= performance[:rate_limited_rate] %>%</span>
      </div>
    </div>
  </div>
</div>
