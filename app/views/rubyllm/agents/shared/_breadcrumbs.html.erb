<%
  # Breadcrumb navigation partial
  # Usage:
  #   render "rubyllm/agents/shared/breadcrumbs", items: [
  #     { label: "Dashboard", path: ruby_llm_agents.root_path },
  #     { label: "Executions", path: ruby_llm_agents.executions_path },
  #     { label: "#123" }  # Current page (no path)
  #   ]
  #
  # Or with simple array:
  #   render "rubyllm/agents/shared/breadcrumbs", items: [
  #     ["Dashboard", ruby_llm_agents.root_path],
  #     ["Executions", ruby_llm_agents.executions_path],
  #     ["#123"]
  #   ]

  items = local_assigns[:items] || []
%>
<nav class="flex items-center text-sm mb-4" aria-label="Breadcrumb">
  <ol class="flex items-center space-x-1">
    <% items.each_with_index do |item, index| %>
      <%
        # Normalize item format
        if item.is_a?(Array)
          label = item[0]
          path = item[1]
        else
          label = item[:label]
          path = item[:path]
        end
        is_last = index == items.length - 1
      %>
      <li class="flex items-center">
        <% if index > 0 %>
          <svg class="w-4 h-4 text-gray-400 dark:text-gray-500 mx-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
          </svg>
        <% end %>

        <% if path.present? && !is_last %>
          <%= link_to label, path, class: "text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors" %>
        <% else %>
          <span class="text-gray-900 dark:text-gray-100 font-medium"><%= label %></span>
        <% end %>
      </li>
    <% end %>
  </ol>
</nav>
