<%# Reusable navigation link for desktop and mobile %>
<%
  # Determine if link is active
  is_active = if path == ruby_llm_agents.root_path
    current_page?(path)
  elsif path == ruby_llm_agents.agents_path
    request.path.start_with?(path)
  else
    current_page?(path)
  end

  # Style classes
  base_classes = mobile ? "flex items-center px-3 py-2 text-base font-medium rounded-md" : "inline-flex items-center px-3 py-1.5 text-sm font-medium rounded-md"
  active_classes = "bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-100"
  inactive_classes = "text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700"
  icon_classes = mobile ? "w-5 h-5 mr-3" : "w-4 h-4 mr-1.5"

  link_options = { class: "#{base_classes} #{is_active ? active_classes : inactive_classes}" }
  link_options["x-on:click"] = "mobileMenuOpen = false" if mobile
%>

<%= link_to path, **link_options do %>
  <svg class="<%= icon_classes %>" fill="none" stroke="currentColor" viewBox="0 0 24 24">
    <%= icon.html_safe %>
  </svg>
  <%= label %>
<% end %>
